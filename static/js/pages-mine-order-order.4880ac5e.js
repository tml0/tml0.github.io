(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-order-order"],{"0519":function(t,e,i){var a=i("c565");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("138d1440",a,!0,{sourceMap:!1,shadowMode:!1})},"280d":function(t,e,i){"use strict";i.r(e);var a=i("3c22"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"2f64":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"order"},[i("v-uni-radio-group",{staticClass:"taps",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)}}},[i("v-uni-label",{staticClass:"item",class:{active:"all"==t.value}},[i("v-uni-radio",{attrs:{value:"all"}}),i("v-uni-text",[t._v("所有订单")])],1),i("v-uni-label",{staticClass:"item",class:{active:1==t.value}},[i("v-uni-radio",{attrs:{value:"1"}}),i("v-uni-text",[t._v("已付款")])],1),i("v-uni-label",{staticClass:"item",class:{active:0==t.value}},[i("v-uni-radio",{attrs:{value:"0"}}),i("v-uni-text",[t._v("待付款")])],1),i("v-uni-label",{staticClass:"item",class:{active:2==t.value}},[i("v-uni-radio",{attrs:{value:"2"}}),i("v-uni-text",[t._v("已发货")])],1),i("v-uni-label",{staticClass:"item",class:{active:3==t.value}},[i("v-uni-radio",{attrs:{value:"3"}}),i("v-uni-text",[t._v("已收货")])],1),i("v-uni-label",{staticClass:"item",class:{active:9==t.value}},[i("v-uni-radio",{attrs:{value:"9"}}),i("v-uni-text",[t._v("申请退货")])],1)],1),t._l(t.listCom,function(e,a){return i("v-uni-view",{key:e.index,staticClass:"block"},[i("v-uni-view",{staticClass:"order-num"},[i("v-uni-text",{staticClass:"num"},[t._v("订单编号："+t._s(e.orderId))]),e.process?i("v-uni-text",{staticClass:"status"},[t._v(t._s(t.processText(e.process)))]):i("v-uni-text",{staticClass:"status",style:{color:1==e.status?"green":""}},[t._v(t._s(t.statusText(e.status)))])],1),t._l(e.subList,function(a,n){return e.subList.length>0?i("v-uni-view",{staticClass:"img-text"},[i("v-uni-image",{staticClass:"img",attrs:{src:a.cover_img,alt:""}}),i("v-uni-view",{staticClass:"text-price"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",{staticClass:"h"},[t._v(t._s(a.gname))])],1),i("v-uni-view",{staticClass:"num"},[i("v-uni-text",{staticClass:"p"},[t._v("规格："+t._s(a.color_text))]),i("v-uni-text",{staticClass:"p"},[t._v("¥"+t._s(a.count*a.price/100))])],1),i("v-uni-text",{staticClass:"p"},[t._v("单价:"),i("v-uni-text",{staticClass:"p"},[t._v(t._s(a.price/100)+"元")])],1),i("v-uni-text",{staticClass:"p"},[t._v("数量："),i("v-uni-text",{staticClass:"p"},[t._v("x"+t._s(a.count))])],1),i("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:2==e.status,expression:"item.status==2"}],staticClass:"p btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack(a)}}},[i("v-uni-text",{staticClass:"p"},[t._v("点击退货")])],1)],1)],1):t._e()}),i("v-uni-view",{staticClass:"total"},[i("v-uni-text",[t._v("添加时间:"+t._s(e.addTime))]),i("v-uni-text",[t._v("合计："+t._s(e.totalPrice/100))])],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1!=e.statusend,expression:"item.statusend != 1"}],staticClass:"btns"},[i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:2==e.status,expression:"item.status==2"}],staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDone(e.orderId)}}},[t._v("确认收货")]),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"item.status==0"}],staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDel(e.orderId)}}},[t._v("取消订单")]),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:0==e.status,expression:"item.status==0"}],staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goBuy(e)}}},[t._v("立即付款")])],1)],2)})],2)},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},"3c22":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("cebc")),s=a(i("2aa0")),r=i("cbff"),o={name:"order-list",props:{},data:function(){return{orderList:[],value:"all",backList:[]}},computed:{listCom:function(){var t=this;return"all"==this.value?this.orderList:"9"==this.value?this.backList:this.orderList.filter(function(e){return e.status==t.value})}},onLoad:function(t){var e=this;(0,r.checkLogin)(function(){t.value&&(e.value=t.value)})},onShow:function(){this.init()},created:function(){},mounted:function(){},watch:{},methods:{processText:function(t){return 0==t?"等待处理":1==t?"确认退货,等待收货":2==t?"确认收货,已退款":3==t?"已收货":9==t?"拒绝退货":void 0},statusText:function(t){return 0==t?"未付款":1==t?"已付款":2==t?"已发货":3==t?"已收货":9==t?"申请退款":void 0},init:function(){var t=this;s.default.getOrderList({userId:this.$store.getters.id}).then(function(e){console.log(e),t.orderList=e.data.list}),s.default.getOrderBackList({userId:this.$store.getters.id}).then(function(e){console.log(e);for(var i=0;i<e.data.length;i++){var a={orderId:e.data[i].orderId,process:e.data[i].process,addTime:e.data[i].addtime,subList:[(0,n.default)({},e.data[i])]};t.backList.push(a)}})},goDel:function(t){var e=this;s.default.delOrderPre({orderId:t}).then(function(t){uni.showToast({title:t.code}),e.init()})},goBuy:function(t){uni.navigateTo({url:"/pages/mine/play/payment?price="+t.totalPrice+"&orderId="+t.orderId})},goDone:function(t){var e=this;s.default.getOrderAllDone({id:t}).then(function(t){uni.showToast({title:t.code}),e.init()})},radioChange:function(t){this.value=t.detail.value},goBack:function(t){uni.navigateTo({url:"backOrder/backOrder"}),this.$store.commit("order/ADD_BACKSKU",t)}},components:{}};e.default=o},"9fc7":function(t,e,i){"use strict";i.r(e);var a=i("2f64"),n=i("280d");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("b1fc");var r,o=i("f0c5"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"5def54a6",null,!1,a["a"],r);e["default"]=c.exports},b1fc:function(t,e,i){"use strict";var a=i("0519"),n=i.n(a);n.a},c565:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.order .taps[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;padding:0 %?40?%;background-color:#354e44;color:#fff;text-align:center;font-size:%?30?%;color:#fff;letter-spacing:%?2.14?%;line-height:%?42?%;padding-bottom:%?5?%}.order .taps .item[data-v-5def54a6]{border-bottom:%?6?% solid transparent}.order .taps .item uni-radio[data-v-5def54a6]{display:none}.order .taps .item.active[data-v-5def54a6]{border-bottom:%?6?% solid #fff}.order .block[data-v-5def54a6]{width:90%;margin:16px auto;background:#fff;text-align:left;box-sizing:border-box;padding:10px 18px;border-radius:12px;box-shadow:0 4px 8px 0 rgba(83,66,49,.08)}.order .block .total[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:20px;font-size:13px;color:#3e3e3e;letter-spacing:.93px;line-height:18px}.order .block .btns[data-v-5def54a6]{text-align:right;margin-top:10px}.order .block .btns .btn[data-v-5def54a6]{margin-left:%?20?%}.order .block .btns .left-btn[data-v-5def54a6],.order .block .btns .right-btn[data-v-5def54a6]{border-radius:5px;margin-left:16px;width:68px;height:25px;line-height:25px}.order .block .order-num[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:14px}.order .block .order-num .num[data-v-5def54a6]{font-size:12px;color:#3e3e3e;letter-spacing:.86px;line-height:17px}.order .block .order-num .status[data-v-5def54a6]{font-size:12px;color:#3e3e3e;letter-spacing:.86px;line-height:17px;font-weight:700}.order .block .img-text[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?40?%}.order .block .img-text .center[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order .block .img-text .img[data-v-5def54a6]{width:81px;height:81px;display:block;border-radius:5px;margin-right:14px;margin-left:8px}.order .block .img-text .text-price[data-v-5def54a6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:11px;color:#8d8d8d;letter-spacing:.79px;line-height:16px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.order .block .img-text .text-price .price[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order .block .img-text .text-price .price .h[data-v-5def54a6]{font-size:13px;color:#3e3e3e;letter-spacing:.93px;line-height:18px;font-weight:700;margin-bottom:3px}.order .block .img-text .text-price .num[data-v-5def54a6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.order .block .img-text .text-price .num .span[data-v-5def54a6]{font-size:13px;color:#8d8d8d;letter-spacing:0;line-height:18px}.order .block .img-text .text-price .p[data-v-5def54a6]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order .block .img-text .text-price .p.btn[data-v-5def54a6]{text-align:right;text-decoration:underline}',""])},cbff:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.islogin=r,e.checkLogin=o;var n=i("309a"),s=a(i("b47b"));function r(){return!!s.default.getters.token||!!(0,n.getToken)()&&(s.default.commit("user/resetState"),!0)}function o(t){r()?t&&t():uni.showModal({title:"未登录",content:"您未登录，需要登录后才能继续",showCancel:!1,success:function(t){t.confirm&&uni.redirectTo({url:"/pages/mine/login/login"})}})}}}]);